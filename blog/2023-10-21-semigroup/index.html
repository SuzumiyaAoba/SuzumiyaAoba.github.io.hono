<!DOCTYPE html><html lang="ja" class="#15m1btd"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="generator" content="Hono"/><style id="hono-css"></style><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" Crossorigin="true"/><link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&amp;family=Noto%20Serif%20JP:wght@400;700;900&amp;family=Noto%20Sans%20JP:wght@400;700;900&amp;family=M%20PLUS%201%20Code:wght@400;700&amp;display=swap" rel="preload" as="style"/><link href="https://fonts.googleapis.com/css2?family=Oswald:wght@700&amp;family=Noto%20Serif%20JP:wght@400;700;900&amp;family=Noto%20Sans%20JP:wght@400;700;900&amp;family=M%20PLUS%201%20Code:wght@400;700&amp;display=swap" rel="stylesheet" media="print" onload="this.media=&#39;all&#39;"/><script>!(function(w,p,f,c){if(!window.crossOriginIsolated &amp;&amp; !navigator.serviceWorker) return;c=w[p]=w[p]||{};c[f]=(c[f]||[])})(window,&#39;partytown&#39;,&#39;forward&#39;);/* Partytown 0.9.1 - MIT builder.io */
const t={preserveBehavior:!1},e=e=&gt;{if(&quot;string&quot;==typeof e)return[e,t];const[n,r=t]=e;return[n,{...t,...r}]},n=Object.freeze((t=&gt;{const e=new Set;let n=[];do{Object.getOwnPropertyNames(n).forEach((t=&gt;{&quot;function&quot;==typeof n[t]&amp;&amp;e.add(t)}))}while((n=Object.getPrototypeOf(n))!==Object.prototype);return Array.from(e)})());!function(t,r,o,i,a,s,c,d,l,p,u=t,f){function h(){f||(f=1,&quot;/&quot;==(c=(s.lib||&quot;/~partytown/&quot;)+(s.debug?&quot;debug/&quot;:&quot;&quot;))[0]&amp;&amp;(l=r.querySelectorAll(&#39;script[type=&quot;text/partytown&quot;]&#39;),i!=t?i.dispatchEvent(new CustomEvent(&quot;pt1&quot;,{detail:t})):(d=setTimeout(v,1e4),r.addEventListener(&quot;pt0&quot;,w),a?y(1):o.serviceWorker?o.serviceWorker.register(c+(s.swPath||&quot;partytown-sw.js&quot;),{scope:c}).then((function(t){t.active?y():t.installing&amp;&amp;t.installing.addEventListener(&quot;statechange&quot;,(function(t){&quot;activated&quot;==t.target.state&amp;&amp;y()}))}),console.error):v())))}function y(t){p=r.createElement(t?&quot;script&quot;:&quot;iframe&quot;),t||(p.style.display=&quot;block&quot;,p.style.width=&quot;0&quot;,p.style.height=&quot;0&quot;,p.style.border=&quot;0&quot;,p.style.visibility=&quot;hidden&quot;,p.setAttribute(&quot;aria-hidden&quot;,!0)),p.src=c+&quot;partytown-&quot;+(t?&quot;atomics.js?v=0.9.1&quot;:&quot;sandbox-sw.html?&quot;+Date.now()),r.querySelector(s.sandboxParent||&quot;body&quot;).appendChild(p)}function v(n,o){for(w(),i==t&amp;&amp;(s.forward||[]).map((function(n){const[r]=e(n);delete t[r.split(&quot;.&quot;)[0]]})),n=0;n&lt;l.length;n++)(o=r.createElement(&quot;script&quot;)).innerHTML=l[n].innerHTML,o.nonce=s.nonce,r.head.appendChild(o);p&amp;&amp;p.parentNode.removeChild(p)}function w(){clearTimeout(d)}s=t.partytown||{},i==t&amp;&amp;(s.forward||[]).map((function(r){const[o,{preserveBehavior:i}]=e(r);u=t,o.split(&quot;.&quot;).map((function(e,r,o){var a;u=u[o[r]]=r+1&lt;o.length?u[o[r]]||(a=o[r+1],n.includes(a)?[]:{}):(()=&gt;{let e=null;if(i){const{methodOrProperty:n,thisObject:r}=((t,e)=&gt;{let n=t;for(let t=0;t&lt;e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length&gt;0?n[e[e.length-1]]:void 0}})(t,o);&quot;function&quot;==typeof n&amp;&amp;(e=(...t)=&gt;n.apply(r,...t))}return function(){let n;return e&amp;&amp;(n=e(arguments)),(t._ptf=t._ptf||[]).push(o,arguments),n}})()}))})),&quot;complete&quot;==r.readyState?h():(t.addEventListener(&quot;DOMContentLoaded&quot;,h),t.addEventListener(&quot;load&quot;,h))}(window,document,navigator,top,window.crossOriginIsolated);</script>
    <script type="text/partytown"
            src="https://www.googletagmanager.com/gtag/js?id=G-Q3Z18PS7B4"></script>
    <script type="text/partytown">
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-Q3Z18PS7B4");
    </script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"/><link rel="stylesheet" href="/assets/css/starry-night/index.css"/><link rel="stylesheet" href="/assets/css/starry-night/light.css"/><script type="module" src="https://cdn.jsdelivr.net/npm/@justinribeiro/lite-youtube@1.5.0/lite-youtube.js"></script><style data-twind>/*!27wr28,s*/*,::before,::after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}/*!27wr28,21*/::before,::after{--328t5w:''}/*!27wr28,r*/html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-feature-settings:normal}/*!27wr28,w*/body{margin:0;line-height:inherit}/*!27wr28,10*/hr{height:0;color:inherit;border-top-width:1px}/*!27wr28,y*/abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}/*!27wr28,w*/h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}/*!27wr28,w*/a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}/*!27wr28,y*/b,strong{font-weight:bolder}/*!27wr28,x*/code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-feature-settings:normal;font-size:1em}/*!27wr28,y*/small{font-size:80%}/*!27wr28,s*/sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}/*!27wr28,y*/sub{bottom:-0.25em}/*!27wr28,y*/sup{top:-0.5em}/*!27wr28,u*/table{text-indent:0;border-color:inherit;border-collapse:collapse}/*!27wr28,o*/button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:inherit;color:inherit;margin:0;padding:0}/*!27wr28,y*/button,select{text-transform:none}/*!27wr28,u*/button,[type='button'],[type='reset'],[type='submit']{-webkit-appearance:button;background-color:transparent;background-image:none}/*!27wr28,v*/:-moz-focusring{outline:auto}/*!27wr28,y*/:-moz-ui-invalid{box-shadow:none}/*!27wr28,y*/progress{vertical-align:baseline}/*!27wr28,v*/::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}/*!27wr28,w*/[type='search']{-webkit-appearance:textfield;outline-offset:-2px}/*!27wr28,21*/::-webkit-search-decoration{-webkit-appearance:none}/*!27wr28,t*/::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}/*!27wr28,v*/summary{display:list-item}/*!27wr28,v*/blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}/*!27wr28,t*/fieldset{margin:0;padding:0}/*!27wr28,v*/legend{padding:0}/*!27wr28,u*/ol,ul,menu{list-style:none;margin:0;padding:0}/*!27wr28,v*/textarea{resize:vertical}/*!27wr28,t*/input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}/*!27wr28,v*/button,[role="button"]{cursor:pointer}/*!27wr28,v*/:disabled{cursor:default}/*!27wr28,w*/img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}/*!27wr28,w*/img,video{max-width:100%;height:auto}/*!27wr28,v*/[hidden]{display:none}/*!dbgidc,v,flex*/.\#1mjcm6l{display:flex}/*!dbgidc,v,h-5*/.\#zs3ien{height:1.25rem}/*!dbgidc,v,h-6*/.\#1qht34i{height:1.5rem}/*!dbgidc,v,p-0*/.\#zrin67{padding:0px}/*!dbgidc,v,w-5*/.\#ws8o6i{width:1.25rem}/*!dbgidc,v,w-6*/.\#37mi2b{width:1.5rem}/*!dbgidc,v,w-auto*/.\#cf9yay{width:auto}/*!dbgidc,v,w-full*/.\#svqbo2{width:100%}/*!dbgidc,w,mx-auto*/.\#9ahoeg{margin-left:auto;margin-right:auto}/*!dbgidc,w,my-0*/.\#7hw6rt{margin-top:0px;margin-bottom:0px}/*!dbgidc,w,my-1*/.\#a1u298{margin-top:0.25rem;margin-bottom:0.25rem}/*!dbgidc,w,my-2*/.\#8urm3s{margin-top:0.5rem;margin-bottom:0.5rem}/*!dbgidc,w,my-8*/.\#kzc0nq{margin-top:2rem;margin-bottom:2rem}/*!dbgidc,w,px-4*/.\#17u01q8{padding-left:1rem;padding-right:1rem}/*!dbgidc,w,py-0*/.\#1rdg3a2{padding-top:0px;padding-bottom:0px}/*!dbgidc,y,flex-col*/.\#li55pj{-webkit-flex-direction:column;flex-direction:column}/*!dbgidc,y,flex-wrap*/.\#gmpj1t{flex-wrap:wrap}/*!dbgidc,y,indent-0*/.\#dzr0h{text-indent:0px}/*!dbgidc,y,items-center*/.\#8gfukc{align-items:center}/*!dbgidc,y,justify-center*/.\#vlgikd{justify-content:center}/*!dbgidc,y,max-w-3xl*/.\#f0p2xk{max-width:48rem}/*!dbgidc,y,mb-12*/.\#4sjxw0{margin-bottom:3rem}/*!dbgidc,y,mb-16*/.\#11dwg9u{margin-bottom:4rem}/*!dbgidc,y,min-h-screen*/.\#1pxoeos{min-height:100vh}/*!dbgidc,y,ml-1*/.\#1jqwd6f{margin-left:0.25rem}/*!dbgidc,y,mt-16*/.\#1mmakzq{margin-top:4rem}/*!dbgidc,y,text-center*/.\#xwomwz{text-align:center}/*!dbgidc,11,list-none*/.\#e5umm1{list-style-type:none}/*!dbgidc,11,no-underline*/.\#1isy0qk{text-decoration-line:none}/*!fjd9fk,y*/body{font-family:"Noto Serif JP", serif}/*!fjd9fk,0*/body{line-height:2}/*!fjd9fk,0*/h1{font-weight:900}/*!fjd9fk,y*/h2,h3,h4,h5,h6{font-family:"Noto Sans JP", sans-serif}/*!fjd9fk,0*/h2,h3,h4,h5,h6{font-weight:900}/*!fjd9fk,0*/h2,h3,h4,h5,h6{margin-top:2rem;margin-bottom:1rem}/*!fjd9fk,0*/h1{font-size:1.5rem;line-height:2rem;line-height:2.5rem}/*!fjd9fk,0*/h2{padding-top:0.5rem;padding-bottom:0.5rem;padding-left:0.5rem}/*!fjd9fk,0*/h2{font-size:1.125rem;line-height:1.75rem}/*!fjd9fk,0*/h2{border-left-width:4px;--20lssk:1;border-color:rgba(51,65,85,var(--20lssk))}/*!fjd9fk,0*/h2{--17cwy6m:1;background-color:rgba(203,213,225,var(--17cwy6m))}/*!fjd9fk,0*/h3{font-weight:900;font-size:1.125rem;line-height:1.75rem}/*!fjd9fk,0*/h3{border-bottom-width:2px;--20lssk:1;border-color:rgba(51,65,85,var(--20lssk))}/*!fjd9fk,0*/h4{padding-left:0.5rem}/*!fjd9fk,0*/h4{font-weight:900;font-size:1.125rem;line-height:1.75rem}/*!fjd9fk,0*/h4{border-left-width:4px;--20lssk:1;border-color:rgba(51,65,85,var(--20lssk))}/*!fjd9fk,0*/p{text-indent:0.75rem}/*!fjd9fk,0*/p{margin-top:0.5rem;margin-bottom:0.5rem}/*!fjd9fk,0*/a{text-decoration-line:underline;text-underline-offset:4px}/*!fjd9fk,0*/a{text-decoration-style:dotted}/*!fjda80,0*/a:hover{text-decoration-style:solid}/*!fjd9fk,0*/img{margin-left:auto;margin-right:auto}/*!fjd9fk,0*/img{object-fit:cover;max-width:42rem;width:100%;height:100%}/*!fjd9fk,0*/img{margin-top:2rem;margin-bottom:2rem;padding:1rem}/*!fjd9fk,0*/img{border-width:1px;--20lssk:1;border-color:rgba(0,0,0,var(--20lssk))}/*!fjd9fk,0*/ul,ol{padding-left:3rem}/*!fjd9fk,0*/ul{list-style-type:disc}/*!fjd9fk,0*/ol{list-style-type:decimal}/*!fjd9fk,0*/table{table-layout:auto}/*!fjd9fk,0*/table{margin-left:auto;margin-right:auto;margin-top:1.5rem;margin-bottom:1.5rem}/*!fjd9fk,0*/thead{--17cwy6m:1;background-color:rgba(229,229,229,var(--17cwy6m))}/*!fjd9fk,0*/tr{border-top-width:1px;border-bottom-width:1px;--20lssk:1;border-color:rgba(0,0,0,var(--20lssk))}/*!fjd9fk,0*/th,td{padding-left:1.5rem;padding-right:1.5rem;padding-top:0.25rem;padding-bottom:0.25rem}/*!fjd9fk,y*/:not(pre) > code{font-family:"M PLUS 1 Code", monospace}/*!fjd9fk,0*/:not(pre) > code{--dxr4o8:1;color:rgba(219,39,119,var(--dxr4o8))}/*!fjd9fk,0*/pre code{font-size:0.875rem;line-height:1.25rem}/*!fjd9fk,0*/blockquote{margin-left:1rem;padding-left:0.5rem;padding-top:0.125rem;padding-bottom:0.125rem}/*!fjd9fk,0*/blockquote{font-size:0.875rem;line-height:1.25rem}/*!fjd9fk,0*/blockquote{--dxr4o8:1;color:rgba(82,82,82,var(--dxr4o8))}/*!fjd9fk,0*/blockquote{border-left-width:2px;--20lssk:1;border-color:rgba(115,115,115,var(--20lssk))}/*!fjd9fk,0*/.highlight{margin-top:0.5rem;margin-bottom:0.5rem}/*!fjd9fk,y*/.highlight-caption{font-family:"Noto Sans JP", sans-serif}/*!fjd9fk,0*/pre{white-space:pre}/*!fjd9fk,0*/pre code{overflow-x:auto}/*!fjd9fk,1x*/:root{--highlight-background-color:hsl(0, 0%, 100%);--highlight-border-color:hsl(208, 21%, 86%);--highlight-code-highlight:hsl(208, 19%, 82%)}/*!fjd9fk,s*/.video{position:relative;width:100%;height:0;padding-top:56.25%}/*!fjd9fk,q*/.video iframe{position:absolute;top:0;left:0;width:100%;height:100%}/*!fjd9fk,y,css#cepbwp*/.\#tbytoe{font-family:"Oswald", sans-serif;font-weight:700;font-size:1.5rem;line-height:2rem;text-decoration-line:none}/*!fjd9fk,0,css#qvttpr*/.\#835par{display:flex;grid-gap:0.25rem;gap:0.25rem;margin-left:0.25rem;margin-right:0.25rem;margin-top:0.25rem;margin-bottom:0.25rem;padding-left:0.5rem;padding-right:0.5rem;padding-top:0.25rem;padding-bottom:0.25rem;align-items:center;font-size:0.875rem;line-height:1.25rem;font-weight:700;border-width:1px;--20lssk:1;border-color:rgba(0,0,0,var(--20lssk));border-radius:9999px}</style>  <script type="module" crossorigin src="/assets/modulepreload-polyfill-B5Qt9EMX.js"></script>
</head><body class="#1mjcm6l #li55pj #1pxoeos"><header class="#svqbo2 #9ahoeg #8urm3s #17u01q8 #f0p2xk"><div><a class="#tbytoe" href="/">Doing My Share</a></div></header><main class="#svqbo2 #9ahoeg #17u01q8 #f0p2xk #4sjxw0"><article class="#11dwg9u"><h1 class="#1mjcm6l #a1u298 #1rdg3a2 #vlgikd"><a class="#1isy0qk" href="/blog/2023-10-21-semigroup/">半群 (Semigroup)</a></h1><div class="#1mjcm6l #8urm3s #8gfukc #vlgikd"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="1.5" stroke="currentColor" class="#1qht34i #37mi2b"><title>calendar-days</title><path strokeLinecap="round" strokeLinejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"></path></svg><p class="#zrin67 #7hw6rt #dzr0h #1jqwd6f">2023/10/21</p></div><ul class="#1mjcm6l #gmpj1t #vlgikd #e5umm1"><li><div class="#835par"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="1.5" stroke="currentColor" class="#zs3ien #ws8o6i"><title>tag</title><path strokeLinecap="round" strokeLinejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"></path><path strokeLinecap="round" strokeLinejoin="round" d="M6 6h.008v.008H6V6Z"></path></svg>関数型プログラミング</div></li><li><div class="#835par"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="1.5" stroke="currentColor" class="#zs3ien #ws8o6i"><title>tag</title><path strokeLinecap="round" strokeLinejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"></path><path strokeLinecap="round" strokeLinejoin="round" d="M6 6h.008v.008H6V6Z"></path></svg>代数的データ型</div></li><li><div class="#835par"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="1.5" stroke="currentColor" class="#zs3ien #ws8o6i"><title>tag</title><path strokeLinecap="round" strokeLinejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"></path><path strokeLinecap="round" strokeLinejoin="round" d="M6 6h.008v.008H6V6Z"></path></svg>数学</div></li><li><div class="#835par"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="1.5" stroke="currentColor" class="#zs3ien #ws8o6i"><title>tag</title><path strokeLinecap="round" strokeLinejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"></path><path strokeLinecap="round" strokeLinejoin="round" d="M6 6h.008v.008H6V6Z"></path></svg>Scala</div></li></ul><div><h2>想定読者</h2>
<ul>
<li>Scala を触ったことがある人</li>
<li>型クラスが気になっている人</li>
<li>半群について知りたい人</li>
<li>Scala とか型クラスとは半群とか知らんけど新しいことを知りたい人</li>
</ul>
<h2>はじめに</h2>
<p>この記事ではゆるふわに半群と、それをプログラミングで扱う方法を学ぶ。ゆるふわなので厳密な定義や証明は行なわないし、説明のため意図的に正確ではない表記を用いたりしてる。説明のためのプログラミング言語として <strong>Scala 3</strong> を使うが Scala 3 の知識は都度説明する。何かしらのプログラミング言語を学んだことがある人であれば理解できると思う。</p>
<p>それでは、型クラスによるプログラミングの世界を体験する最初の一歩を踏み出そう。</p>
<h2>半群とは？</h2>
<p>さっそくだが<a href="https://ja.wikipedia.org/wiki/%E5%8D%8A%E7%BE%A4"><strong>半群</strong></a>とは何だろうか？</p>
<blockquote>
<p>A. 数学における半群（はんぐん、英: semigroup）は、集合 S とその上の結合的二項演算とをあわせて考えた<a href="https://ja.wikipedia.org/wiki/%E4%BB%A3%E6%95%B0%E7%9A%84%E6%A7%8B%E9%80%A0">代数的構造</a>である。
-- Wikipedia</p>
</blockquote>
<p>それでは代数的構造とは何だろうか？</p>
<blockquote>
<p>A. 代数的構造は、集合とその集合上の演算によって決まる構造のこと。
-- Wikipedia</p>
</blockquote>
<p>代数的構造の具体例をいくつか上げると以下のようなものがある。</p>
<ul>
<li>半群</li>
<li>モノイド</li>
<li>群</li>
<li>環</li>
<li>体</li>
<li>束</li>
</ul>
<p>どのような代数的構造に馴染みがあるかは、大学でどのような分野を専攻していたかに依存するだろう。数学ではさまざまな代数的構造を考えるが、プログラマは<a href="https://ja.wikipedia.org/wiki/%E3%83%A2%E3%83%8E%E3%82%A4%E3%83%89"><strong>モノイド</strong></a>を覚えておけばいい。そして、モノイドよりも満すべき条件がゆるい代数的構造として<strong>半群</strong>がある。</p>
<p>御託はこの辺にして半群の定義を見てみよう。</p>
<h3>半群</h3>
<p>集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> とその集合上の二項演算 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∘</mo><mo>:</mo><mi>S</mi><mo>×</mo><mi>S</mi><mo>→</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">\circ: S \times S \to S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">∘</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> の組 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mo>∘</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(S, \circ)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∘</span><span class="mclose">)</span></span></span></span> が以下の条件を満すとき<strong>半群</strong>という。</p>
<ul>
<li>二項演算 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∘</mo></mrow><annotation encoding="application/x-tex">\circ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">∘</span></span></span></span> が<a href="https://ja.wikipedia.org/wiki/%E7%B5%90%E5%90%88%E6%B3%95%E5%89%87"><strong>結合律</strong></a>を満たす</li>
</ul>
<p>また、集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> のことを<a href="https://ja.wikipedia.org/wiki/%E6%95%B0%E5%AD%A6%E7%9A%84%E6%A7%8B%E9%80%A0#%E5%AE%9A%E7%BE%A9"><strong>台集合</strong></a>と呼ぶ。</p>
<h4>結合律</h4>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo separator="true">,</mo><mi>z</mi><mo>∈</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">x, y, z \in S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7335em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> に対して、</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>∘</mo><mi>y</mi><mo stretchy="false">)</mo><mo>∘</mo><mi>z</mi><mo>=</mo><mi>x</mi><mo>∘</mo><mo stretchy="false">(</mo><mi>y</mi><mo>∘</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x \circ y) \circ z = x \circ (y \circ z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span></span>
<p>が成り立つ。</p>
<h3>ゆるい説明</h3>
<p>定義から群は、</p>
<ul>
<li>集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span></li>
<li>二項演算子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∘</mo><mo>:</mo><mi>S</mi><mo>×</mo><mi>S</mi><mo>→</mo><mi>S</mi></mrow><annotation encoding="application/x-tex">\circ: S \times S \to S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">∘</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">→</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span></li>
</ul>
<p>の 2 つを考えて、二項演算子が結合律を満していればよい。また、群はそのような集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span> と二項演算子 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∘</mo></mrow><annotation encoding="application/x-tex">\circ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">∘</span></span></span></span> の組 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>S</mi><mo separator="true">,</mo><mo>∘</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(S, \circ)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∘</span><span class="mclose">)</span></span></span></span> のことを言う。</p>
<p>集合は説明は不要だろう。結合律は、中学や高校では<strong>結合法則</strong>と呼ばれている。整数の足し算を例に学んだことがあるのではないだろうか。</p>
<p>整数 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span> について、</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>+</mo><mi>y</mi><mo stretchy="false">)</mo><mo>+</mo><mi>z</mi><mo>=</mo><mi>x</mi><mo>+</mo><mo stretchy="false">(</mo><mi>y</mi><mo>+</mo><mi>z</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(x + y) + z = x + (y + z)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span><span class="mclose">)</span></span></span></span></span>
<p>が成り立ち、整数の足し算では足す順序に依らず計算結果が変わらないという法則を習っただろう。中学、高校までは結合法則、結合則と呼んでいた記憶があるが、大学数学以降では整数の足し算の結合則のような性質は結合律と呼ぶことが多いように感じる。私が通っていた大学では、すべての講義で結合律と呼んでいたと思う。これは名称の違いというだけだ。</p>
<p>この例で結合律と呼ばれるものがどのようなものであるか掴めたのではないだろうか。整数の足し算は二項演算ですべての整数について定義され結合律を満している。</p>
<p>まさに半群の例の一つとして <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="double-struck">Z</mi><mo separator="true">,</mo><mo>+</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\mathbb{Z}, +)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathbb">Z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">+</span><span class="mclose">)</span></span></span></span> が見つかった (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="double-struck">Z</mi></mrow><annotation encoding="application/x-tex">\mathbb{Z}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6889em;"></span><span class="mord mathbb">Z</span></span></span></span> は整数の集合を表す)。</p>
<h3>閑話</h3>
<p>ログイン不要の匿名アンケートなので気が向いたら答えてね。</p>
<details>
<summary>読者アンケート</summary>
<iframe src="https://docs.google.com/forms/d/e/1FAIpQLSe4eCIbioEmCg9s5UOlZp22ocIiy6i1-FiQpD9QWebvD0ozuA/viewform?embedded=true" width="640" height="726" frameborder="0" marginheight="0" marginwidth="0">読み込んでいます…</iframe>
</details>
<p>※ 「読者アンケート」をクリックするとアンケートが表示される。</p>
<h2>数学における半群の例</h2>
<blockquote>
<p>例示は理解の試金石
-- 数学ガール</p>
</blockquote>
<p>例で理解するのは大切だ。例は抽象的な定義よりも理解しやすいし、自分で例を作ることより深い理解を助ける。それでは <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="double-struck">Z</mi><mo separator="true">,</mo><mo>+</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\mathbb{Z}, +)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathbb">Z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">+</span><span class="mclose">)</span></span></span></span> 以外の例として以下のような組が上げられる。</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="double-struck">Z</mi><mo separator="true">,</mo><mo>×</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\mathbb{Z}, \times)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathbb">Z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">×</span><span class="mclose">)</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="double-struck">Q</mi><mo separator="true">,</mo><mo>+</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\mathbb{Q}, +)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathbb">Q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">+</span><span class="mclose">)</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="double-struck">Q</mi><mo separator="true">,</mo><mo>×</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\mathbb{Q}, \times)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathbb">Q</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">×</span><span class="mclose">)</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi mathvariant="double-struck">Q</mi><mi mathvariant="normal">\</mi><mo stretchy="false">{</mo><mn>0</mn><mo stretchy="false">}</mo><mo separator="true">,</mo><mo>÷</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\mathbb{Q} \backslash \{0\}, \div)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathbb">Q</span><span class="mord">\</span><span class="mopen">{</span><span class="mord">0</span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">÷</span><span class="mclose">)</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mrow><mi mathvariant="monospace">t</mi><mi mathvariant="monospace">r</mi><mi mathvariant="monospace">u</mi><mi mathvariant="monospace">e</mi></mrow><mo separator="true">,</mo><mrow><mi mathvariant="monospace">f</mi><mi mathvariant="monospace">a</mi><mi mathvariant="monospace">l</mi><mi mathvariant="monospace">s</mi><mi mathvariant="monospace">e</mi></mrow><mo stretchy="false">}</mo><mo separator="true">,</mo><mo>∧</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\{\mathtt{true}, \mathtt{false}\}, \land)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">({</span><span class="mord"><span class="mord mathtt">true</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathtt">false</span></span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∧</span><span class="mclose">)</span></span></span></span></li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mo stretchy="false">{</mo><mrow><mi mathvariant="monospace">t</mi><mi mathvariant="monospace">r</mi><mi mathvariant="monospace">u</mi><mi mathvariant="monospace">e</mi></mrow><mo separator="true">,</mo><mrow><mi mathvariant="monospace">f</mi><mi mathvariant="monospace">a</mi><mi mathvariant="monospace">l</mi><mi mathvariant="monospace">s</mi><mi mathvariant="monospace">e</mi></mrow><mo stretchy="false">}</mo><mo separator="true">,</mo><mo>∨</mo><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(\{\mathtt{true}, \mathtt{false}\}, \lor)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">({</span><span class="mord"><span class="mord mathtt">true</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathtt">false</span></span><span class="mclose">}</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord">∨</span><span class="mclose">)</span></span></span></span></li>
</ul>
<p>加算だけでなく、乗算についても半群となることは定義を確認すればわかるだろう。また、台集合を有理数 (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Q</mi></mrow><annotation encoding="application/x-tex">Q</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">Q</span></span></span></span>) まで広げて <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0</mn></mrow><annotation encoding="application/x-tex">0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0</span></span></span></span> を除いてあげれば除算についても半群となる。二値論理における論理積、論理和のようなものも半群であることが直ぐにわかるだろう。</p>
<p>このように半群はゆるい代数的構造なので至るところに登場する。</p>
<h2>プログラミングにおける半群の例</h2>
<ul>
<li><code>(Int, +)</code></li>
<li><code>(Int, *)</code></li>
<li><code>(String, ++)</code></li>
<li><code>(List[T], ++)</code></li>
<li><code>(Option[Semigroup[T]], |+|)</code></li>
<li><code>(Map[K, Semigroup[V]], ++)</code></li>
<li><code>(A => A, compose)</code></li>
</ul>
<p><code>Int</code> は <code>Long</code>、<code>Float</code>、<code>Double</code> にしても成り立つ。
<code>(Option[Semigroup[T]], |+|)</code> や <code>(Map[K, Semigroup[V]], ++)</code> は正確性に欠ける表記だが、これらの表記については後で解説する。</p>
<h2>半群 in Scala 3</h2>
<p>いよいよ本題に入って、Scala 3 のコードで半群を表現してみよう。</p>
<h3>半群の定義</h3>
<p>半群の定義を Scala 3 のコードに落とし込むと以下のようになる。</p>
<div class="highlight highlight-scala"><div class="highlight-header"><div class="highlight-language">scala</div><div class="highlight-caption">Semigroup 型クラス</div></div><pre id="MC44OTYzMzYw"><code tabindex="0"><span class="line"><span class="line-number" aria-hidden="true">1</span><span class="pl-k">trait</span> <span class="pl-en">Semigroup</span>[<span class="pl-en">T</span>]<span class="pl-k">:</span></span>
<span class="line"><span class="line-number" aria-hidden="true">2</span>  <span class="pl-k">extension</span> (<span class="pl-v">x</span>: <span class="pl-en">T</span>) <span class="pl-k">def</span> <span class="pl-en">combine</span>(<span class="pl-v">y</span>: <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">T</span></span>
</code></pre></div>
<p>このコードは<a href="https://docs.scala-lang.org/scala3/book/ca-type-classes.html">型クラス</a>と呼ばれる言語機能を使っている。型クラスを持つプログラミング言語として有名なのは <a href="https://ja.wikipedia.org/wiki/Haskell">Haskell</a> だろう。
<a href="https://www.rust-lang.org/ja">Rust</a> を触ったことがある人は Rust のトレイトと似ていると感じる人がいるかもしれない。</p>
<p>型クラスは<a href="https://ja.wikipedia.org/wiki/%E3%83%9D%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%95%E3%82%A3%E3%82%BA%E3%83%A0">アドホック多相</a>をサポートするための機能の一つだ。アドホック多相は<a href="https://ja.wikipedia.org/wiki/%E3%83%9D%E3%83%AA%E3%83%A2%E3%83%BC%E3%83%95%E3%82%A3%E3%82%BA%E3%83%A0">ポリモーフィズム</a>の一種で、オブジェクト指向プログラミング言語の特徴の一つとして上げられることが多いが、オブジェクト指向の文脈ではサブタイピングを指すことが多いだろう。この辺りの用語や定義については一旦忘れてもらい、上記のコードが何を定義していて、このコードを使うと何ができるかを見てみよう。</p>
<p>先程のコードは 1 行目で、</p>
<div class="highlight highlight-scala"><div class="highlight-header"><div class="highlight-language">scala</div></div><pre id="MC44NTQ0MTcy"><code tabindex="0"><span class="line"><span class="pl-k">trait</span> <span class="pl-en">Semigroup</span>[<span class="pl-en">T</span>]<span class="pl-k">:</span></span>
</code></pre></div>
<p>と書くことで <code>Semigroup</code> (半群) という型は何かしらの型 <code>T</code> を受け取る型ですよ、と宣言している。</p>
<p>そして2 行目では、</p>
<div class="highlight highlight-scala"><div class="highlight-header"><div class="highlight-language">scala</div></div><pre id="MC4yOTA1MDgz"><code tabindex="0"><span class="line">  <span class="pl-k">extension</span> (<span class="pl-v">x</span>: <span class="pl-en">T</span>) <span class="pl-k">def</span> <span class="pl-en">combine</span>(<span class="pl-v">y</span>: <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">T</span></span>
</code></pre></div>
<p>ある型 <code>T</code> は <code>combine</code> という名前で引数に型 <code>T</code> の値を受け取り、型 <code>T</code> の値を返すメソッドを持つ、と宣言している。</p>
<p>正確性には欠けるものの、以下のような対応が成り立つ。</p>
<table>
<thead>
<tr>
<th align="center">Scala 3</th>
<th align="center">数学</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">型 <code>T</code></td>
<td align="center">集合 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">S</span></span></span></span></td>
</tr>
<tr>
<td align="center">メソッド <code>combine</code></td>
<td align="center">二項演算 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∘</mo></mrow><annotation encoding="application/x-tex">\circ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">∘</span></span></span></span></td>
</tr>
</tbody>
</table>
<p>「型 = 集合」という理解は正確ではないであるため、あくまで直観的にはこのような対応となっている、という点に注意して欲しい。</p>
<p>さて、改めて最初に見たコードを見直しみると、これはまさしく半群を定義していることがわかるだろう。</p>
<h3>半群のインスタンス (Int, +)</h3>
<p>半群がソースコード上で定義できたので、次はその例 (instance) を表現してみよう。
Scala 3 では以下のように書くことで型クラスのインスタンスを定義できる。</p>
<div class="highlight highlight-scala"><div class="highlight-header"><div class="highlight-language">scala</div><div class="highlight-caption">Semigroup 型クラスの Int インスタンス</div></div><pre id="MC42MDUwMDI0"><code tabindex="0"><span class="line"><span class="line-number" aria-hidden="true">1</span><span class="pl-k">given</span> <span class="pl-en">Semigroup</span>[<span class="pl-en">Int</span>] <span class="pl-k">with</span></span>
<span class="line"><span class="line-number" aria-hidden="true">2</span>  <span class="pl-k">extension</span> (<span class="pl-v">x</span>: <span class="pl-en">Int</span>) <span class="pl-k">def</span> <span class="pl-en">combine</span>(<span class="pl-v">y</span>: <span class="pl-en">Int</span>)<span class="pl-k">:</span> <span class="pl-en">Int</span> <span class="pl-k">=</span> x <span class="pl-k">+</span> y</span>
</code></pre></div>
<p>上記のコードは半群の例として見た整数上の加算を定義している。型クラスを定義したコードとの構文的な違いは <code>trait</code> と <code>given</code>、
<code>:</code> と <code>with</code>、メソッドの定義がされているあたりだろうか。</p>
<p>さて、この定義をすると <code>Int</code> 型の値に対して <a href="https://scastie.scala-lang.org/SuzumiyaAoba/KBNFgBdITFSSM3f0lGlqrg"><code>combine</code> が呼べる</a>ようになる。</p>
<div class="highlight highlight-scala"><div class="highlight-header"><div class="highlight-language">scala</div></div><pre id="MC4zMzIzNzky"><code tabindex="0"><span class="line"><span class="pl-c1">3</span>.combine(<span class="pl-c1">4</span>).combine(<span class="pl-c1">5</span>)</span>
</code></pre></div>
<p><code>3.combine(4).combine(5)</code> は <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mn>3</mn><mo>∘</mo><mn>4</mn><mo stretchy="false">)</mo><mo>∘</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">(3 \circ 4) \circ 5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∘</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">5</span></span></span></span> に対応する。
Scala ではメソッド名に記号が使えるのに加えて、引数が一つのメソッドは二項演算子のように
<code>.</code> や括弧を省略することができるため、次のように <code>Semigroup</code> に <code>|+|</code> メソッドを追加することで、</p>
<div class="highlight highlight-scala"><div class="highlight-header"><div class="highlight-language">scala</div></div><pre id="MC40OTcwNzQ4"><code tabindex="0"><span class="line"><span class="line-number" aria-hidden="true">1</span><span class="pl-k">trait</span> <span class="pl-en">Semigroup</span>[<span class="pl-en">T</span>]<span class="pl-k">:</span></span>
<span class="line"><span class="line-number" aria-hidden="true">2</span>  <span class="pl-k">extension</span> (<span class="pl-v">x</span>: <span class="pl-en">T</span>)</span>
<span class="line"><span class="line-number" aria-hidden="true">3</span>    <span class="pl-k">def</span> <span class="pl-en">combine</span>(<span class="pl-v">y</span>: <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">T</span></span>
<span class="line" data-highlighted><span class="line-number" aria-hidden="true">4</span>    <span class="pl-k">def</span> <span class="pl-en">|+|</span>(<span class="pl-v">y</span>: <span class="pl-en">T</span>)<span class="pl-k">:</span> <span class="pl-en">T</span> <span class="pl-k">=</span> combine(y)</span>
</code></pre></div>
<p>より半群の定義で使った記法 (二項演算 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>∘</mo></mrow><annotation encoding="application/x-tex">\circ</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em;"></span><span class="mord">∘</span></span></span></span>) に近づけることができる。この定義により<a href="https://scastie.scala-lang.org/SuzumiyaAoba/UIl049OETgSmW19LrSDAJA/3">以下のような呼び出し</a>が可能となる。</p>
<div class="highlight highlight-scala"><div class="highlight-header"><div class="highlight-language">scala</div></div><pre id="MC45MzA5NTY4"><code tabindex="0"><span class="line"><span class="pl-c1">3</span> <span class="pl-k">|+|</span> <span class="pl-c1">4</span> <span class="pl-k">|+|</span> <span class="pl-c1">5</span></span>
</code></pre></div>
<p>より二項演算が定義されている感じがするだろう。</p>
<h3>半群のインスタンス (List[T], ++)</h3>
<p>次に半群 <code>(List[T], ++)</code> を実装してみよう。半群の定義は既にしているため、インスタンスの実装を考えればよい。リストの場合は型パラメータを一つ受け取るため、<code>(Int, +)</code> と少しだけ異なる構文を使わなければならない。</p>
<div class="highlight highlight-scala"><div class="highlight-header"><div class="highlight-language">scala</div><div class="highlight-caption">Semigroup 型クラスの List インスタンス</div></div><pre id="MC40NzY0MzY3"><code tabindex="0"><span class="line"><span class="line-number" aria-hidden="true">1</span><span class="pl-k">given</span> <span class="pl-en">listSemigroup</span>[<span class="pl-en">T</span>]<span class="pl-k">:</span> <span class="pl-en">Semigroup</span>[<span class="pl-en">List</span>[<span class="pl-en">T</span>]] <span class="pl-k">with</span></span>
<span class="line"><span class="line-number" aria-hidden="true">2</span>  <span class="pl-k">extension</span> (<span class="pl-v">x</span>: <span class="pl-en">List</span>[<span class="pl-en">T</span>])</span>
<span class="line"><span class="line-number" aria-hidden="true">3</span>    <span class="pl-k">def</span> <span class="pl-en">combine</span>(<span class="pl-v">y</span>: <span class="pl-en">List</span>[<span class="pl-en">T</span>])<span class="pl-k">:</span> <span class="pl-en">List</span>[<span class="pl-en">T</span>] <span class="pl-k">=</span> x <span class="pl-k">++</span> y</span>
</code></pre></div>
<p>これにより、リストに対しても半群の二項演算が追加され、<a href="https://scastie.scala-lang.org/SuzumiyaAoba/n4uDZjpgS3e6rHuiHw4wOw/33">以下のようなコード</a>を書ける。</p>
<div class="highlight highlight-scala"><div class="highlight-header"><div class="highlight-language">scala</div></div><pre id="MC4xMzUxMjY2"><code tabindex="0"><span class="line"><span class="pl-en">List</span>(<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>) <span class="pl-k">|+|</span> <span class="pl-en">List</span>(<span class="pl-c1">4</span>, <span class="pl-c1">5</span>)</span>
</code></pre></div>
<p>リストの半群としてのインスタンスを定義したが大切なことを忘れている。それは <code>(List[_], ++)</code> が半群であるかどうかだ。
Scala 3 による <code>Semigroup</code> のインスタンスを定義する方法を見てもらうとわかるが、
<code>combine</code> メソッドを定義することができればコンパイルは通ってしまう。そのため、<code>List</code> と二項演算 <code>++</code> の組合せが半群としての性質である結合律を満たすことはインスタンスがコンパイルに通ることと分けて考えなければならない。</p>
<p>リスト <code>xs</code>、<code>ys</code>、<code>zs</code> について、</p>
<div class="highlight highlight-scala"><div class="highlight-header"><div class="highlight-language">scala</div></div><pre id="MC4yOTEzMjIx"><code tabindex="0"><span class="line">(xs <span class="pl-k">++</span> ys) <span class="pl-k">++</span> zs <span class="pl-k">==</span> xs <span class="pl-k">++</span> (ys <span class="pl-k">++</span> zs)</span>
</code></pre></div>
<p>が成り立つことは直観的には正しいことがわかるだろう。証明についてはここでは省略する。</p>
<h3>半群のインスタンス (Option[Semigroup[T]], |+|)</h3>
<p>次に半群 <code>(Option[Semigroup[T]], |+|)</code> を考える。初めに断りを入れされてもらうとこの表記は正確ではない、がこの後の説明を読んでもらえれば何故このように書いたか理解してもらえると思う。</p>
<p>半群の台集合から見ていこう。この半群の台集合は <code>Option[Semigroup[T]]</code> だ。この表記は正確ではないが、直観としては <code>Option[T]</code> 型で <code>T</code> が特に半群であることを<del>表している</del>表そうとしている。つまり、型 <code>Option[T]</code> の型変数部分である型 <code>T</code> が半群のときは、<code>Option[T]</code> も半群にすることができるという主張だ。</p>
<p>それでは、二項演算について見てみよう。二項演算は <code>|+|</code> となっている。台集合が <code>Option[T]</code> であるから、二項演算の型は <code>(Option[T], Option[T]) => Option[T]</code> だ。結合律が満されるような定義のうち自然な定義は次のような演算だろうか。</p>
<ul>
<li><code>None |+| None = None</code></li>
<li><code>None |+| Some(y) = None</code></li>
<li><code>Some(x) |+| None = None</code></li>
<li><code>Some(x) |+| Some(y) = ???</code></li>
</ul>
<p>問題は最後のパターンだろう。この場合に型 <code>T</code> が半群であることを生かして次のように定義する。</p>
<ul>
<li><code>Some(x) |+| Some(y) = x |+| y</code></li>
</ul>
<p>ただし、右辺の <code>|+|</code> は半群 <code>(T, |+|)</code> で定義される <code>|+|</code> を使う。これによって、<code>(Option[Semigroup[T]], |+|)</code> が半群となる。</p>
<p>ここで一つの疑問が浮ばないだろうか？
<code>Some(x) |+| Some(y) = None</code> と定義しても半群になるのでないかと？この疑問は今回の例に限らず、今までのすべての例で浮ぶ疑問だろう。半群の定義に従えば、そのような二項演算を定義しても半群となる。しかし、そのような半群を考えても有益な場合は少ないだろう。そのため、基本的には使い道のある自然な二項演算の定義だけが利用される。</p>
<p>今回の例では、複数の <code>Option[T]</code> 型の値が存在し、いずれか一つでも <code>None</code> が存在すれば計算結果全体が <code>None</code> となり、すべて <code>Some</code> であれば存在する値を自然な半群の定義による二項演算での計算結果を <code>Some</code> で包んで得られる。このような計算は恣意的なサンプル上のコードではなく、業務で書くようなコードでも現れるだろう。最も関数型プログラミングにおけるテクニックは単純なサンプルコードを見ても自身のコーディングに生かせるか気がつけるようになるまでの最初の一歩が難しいものではあると思う。</p>
<p>さて、<code>(Option[Semigroup[T]], |+|)</code> の気持ちを理解できたところで <a href="https://scastie.scala-lang.org/SuzumiyaAoba/w4V5lBM7THi6s7ceaYMDXg/4">Scala 3 による実装</a>を見てみよう。</p>
<div class="highlight highlight-scala"><div class="highlight-header"><div class="highlight-language">scala</div><div class="highlight-caption">Semigroup 型クラスの Option インスタンス</div></div><pre id="MC4wODI3MTc5"><code tabindex="0"><span class="line"><span class="line-number" aria-hidden="true"> 1</span>  <span class="pl-k">given</span> <span class="pl-en">optionSemigroup</span>[<span class="pl-en">T</span>](<span class="pl-k">using</span> <span class="pl-en">Semigroup</span>[<span class="pl-en">T</span>])<span class="pl-k">:</span> <span class="pl-en">Semigroup</span>[<span class="pl-en">Option</span>[<span class="pl-en">T</span>]] <span class="pl-k">with</span></span>
<span class="line"><span class="line-number" aria-hidden="true"> 2</span>    <span class="pl-k">extension</span> (<span class="pl-v">x</span>: <span class="pl-en">Option</span>[<span class="pl-en">T</span>])</span>
<span class="line"><span class="line-number" aria-hidden="true"> 3</span>      <span class="pl-k">def</span> <span class="pl-en">combine</span>(<span class="pl-v">y</span>: <span class="pl-en">Option</span>[<span class="pl-en">T</span>])<span class="pl-k">:</span> <span class="pl-en">Option</span>[<span class="pl-en">T</span>] <span class="pl-k">=</span> x <span class="pl-k">match</span> {</span>
<span class="line"><span class="line-number" aria-hidden="true"> 4</span>        <span class="pl-k">case</span> <span class="pl-en">Some</span>(a) <span class="pl-k">=></span></span>
<span class="line"><span class="line-number" aria-hidden="true"> 5</span>          y <span class="pl-k">match</span> {</span>
<span class="line"><span class="line-number" aria-hidden="true"> 6</span>            <span class="pl-k">case</span> <span class="pl-en">Some</span>(b) <span class="pl-k">=></span> <span class="pl-en">Some</span>(a <span class="pl-k">|+|</span> b)</span>
<span class="line"><span class="line-number" aria-hidden="true"> 7</span>            <span class="pl-k">case</span> <span class="pl-en">None</span> <span class="pl-k">=></span> <span class="pl-en">None</span></span>
<span class="line"><span class="line-number" aria-hidden="true"> 8</span>          }</span>
<span class="line"><span class="line-number" aria-hidden="true"> 9</span>        <span class="pl-k">case</span> <span class="pl-en">None</span> <span class="pl-k">=></span> <span class="pl-en">None</span></span>
<span class="line"><span class="line-number" aria-hidden="true">10</span>      }</span>
</code></pre></div>
<p><code>listSemigroup</code> との違いは <code>(using Semigroup[T])</code> だろう。
Scala 3 では、このように書くことで型 <code>T</code> に対して <code>Semigroup</code> のインスタンスが定義されている場合のみ、
<code>Option[T]</code> を <code>Semigroup</code> として扱うことができる。
<code>combine</code> の定義について先ほど説明した定義をそのまま素直にコードに落としただけである。型 <code>T</code> には <code>Semigroup</code> に対して定義されたメソッドが呼び出せるので、
<code>Some(a |+| b)</code> のように <code>Semigroup</code> に対して定義された二項演算を使って自然なコードが書ける。</p>
<p>この例より前に見てきた例は、すでに定義された演算を使って半群のインスタンスを実装していたが、今回の例では Scala に元からある二項演算をそのまま使うのではなく、結合律を満した上で有益な演算を考えて実装した。使った型は <code>Option</code> といった Scala に標準で定義さている型ではあるが、標準で用意されている型だけでなく自らが定義した型に対しても結合律を満すような演算が定義できるのであれば、
<code>Semigroup</code> のインスタンスを定義して利用することができる。
<code>Semigroup</code> だけでは加算や乗算のような単純な計算の延長上にあるようなことしかできないが、他の数学的な構造と組み合わせることでインスタンスを定義しただけで便利な操作を自動で手に入れられる。</p>
<h2>おわりに</h2>
<p>代数的構造の中でも単純な半群について見た。半群だけを考えても面白みは少ないが、</p>
<ul>
<li>代数的構造とは何か</li>
<li>プログラミングへの活用</li>
<li>型クラスの定義、使い方</li>
</ul>
<p>を最小の知識で学ぶことができる。それでも初めて代数学や型クラスに触れた人にとってはとっつき難いかもしれない。半群がプログラミングで役に立つのは、半群に対して単位元を加えたモノイドと <a href="https://typelevel.org/cats/typeclasses/foldable.html">Foldable</a> のような型クラスの組合せを知ったときだろう。</p>
<p>わからないところがあれば気軽にコメントしてください。</p>
<h2>参考URL</h2>
<ul>
<li><a href="https://typelevel.org/cats/typeclasses/semigroup.html">Semigroup</a></li>
</ul></div></article><hr/><section class="#1mmakzq"><script src="https://giscus.app/client.js" data-repo="SuzumiyaAoba/SuzumiyaAoba.github.io" data-repo-id="R_kgDOKadgRw" data-category="Announcements" data-category-id="DIC_kwDOKadgR84CZxHy" data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="1" data-input-position="top" data-theme="light" data-lang="ja" data-loading="lazy" crossorigin="anonymous" async=""></script></section></main><footer class="#cf9yay #9ahoeg #kzc0nq #xwomwz"><div>© 2023 SuzumiyaAoba</div><div>Powered by <a href="https://hono.dev/">Hono</a></div></footer></body></html>